<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title> Test</title>
    <script type="text/javascript" src="jquery/js/jquery-3.5.1.js"></script>
</head>
    <body>
        <h1>Salut Ã  tous</h1>
        <form action="/new_article" method="post">
            <button id="new" name="new_button" type="submit">
                New Page
            </button>
        </form>
        <div id="receive" style="display: none">{% if receive %}{{receive}}{% endif %}</div>
        <p id="titre">
            {% if receive %}
            {% for word in receive["titre"] %}
            <span id = {{word["id"]}} class="mot"> {{word["mot"]}}</span>
            {%endfor%}
            {% endif %}
    
        </p>


        <p id="article">
            {% if receive %}
            {% for word in receive["mots"] %}
            <span id = {{word["id"]}} class="mot"> {{word["mot"]}}</span>
            {%endfor%}
            {% endif %}
        </p>
    

        
    </body>



        {%if receive%}
        <script>
            const style = {
                "titre": "font size: 2.5em; font-weight: bold;",
                "article": "font size: 1em;",
                "cache": "background-color: rgb(60,60,60);"
            };
            $(document).ready(function() {
                var jison = JSON.parse(document.getElementById("receive").innerHTML);
                console.log(jison);
                jison["titre"].forEach(element => {
                    element["classes"].forEach(classe =>{
                        document.getElementById(element["id"]).style = document.getElementById(element["id"]).style + style[classe];
                    });
                });
            });
                
        </script>
        {% endif %}
</html>